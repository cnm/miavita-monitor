<!DOCTYPE html>
<html lang="en-GB">
	<head><!-- Duarte Barbosa - duarte.barbosa@ist.utl.pt -->
		<title>Miavita</title>
		<meta name="application-name" content="MiaVita Monitor" />
		<meta name="description" content="MiaVita Monitoring Platform" />
		<meta name="author" content="Duarte Barbosa" />
		<meta charset="UTF-8">
		<!-- Cascade Style Sheets -->
		<link rel="stylesheet" href="./jquery-easyui-1.3/themes/gray/easyui.css" />
		<link rel="stylesheet" href="./jquery-ui-1.8.22.custom/development-bundle/themes/base/jquery.ui.all.css">
		<link rel="stylesheet" href="./style.css" />
	        <link rel="shortcut icon" href="favicon.ico" />
		<!-- Include the Google Maps,jQuery and jQueryEasyUI libs and the Spinner-->
       		<script src="./jquery-1.7.2.min.js"></script>
		<script src="./jquery-ui-1.8.22.custom/js/jquery-ui-1.8.22.custom.min.js"></script>
		<script src="./jquery-ui-sliderAccess.js"></script>		
		<script src="./jquery-ui-timepicker-addon.js"></script>
		<script src="./jquery-easyui-1.3/jquery.easyui.min.js"></script>
		<script src="./jquery.portal.js"></script>
		<script src="./spin.min.js"></script>
		<script src="http://maps.googleapis.com/maps/api/js?sensor=true"></script>
		<!-- Include RGraph and Highcharts libraries -->
		<script src="./RGraph/libraries/RGraph.common.core.js" ></script>
		<script src="./RGraph/libraries/RGraph.common.dynamic.js"></script> 
		<script src="./RGraph/libraries/RGraph.common.context.js" ></script>
		<script src="./RGraph/libraries/RGraph.common.tooltips.js" ></script>
		<script src="./RGraph/libraries/RGraph.common.effects.js" ></script>
		<script src="./RGraph/libraries/RGraph.common.key.js" ></script>
		<script src="./RGraph/libraries/RGraph.common.zoom.js" ></script>
		<script src="./RGraph/libraries/RGraph.common.annotate.js" ></script>
		<script src="./RGraph/libraries/RGraph.bar.js" ></script>
		<script src="./RGraph/libraries/RGraph.line.js" ></script>
		<script src="./Highcharts-2.2.5/js/highcharts.js"></script>
		<script src="./Highcharts-2.2.5/js/modules/exporting.js"></script>
		<!-- Include my own code! -->
		<script src="./utils.js"></script>
		<script src="./visual.js"></script>
		<script src="./data.js"></script>
		<script src="./date.js"></script>
		<script src="./charts.js"></script>
		<script src="./googlemaps.js"></script>
	</head>
	<body onload="init();">
		<header id="header">
			<div id="header-inner">
				<table style="width:100%;">
					<tr style="vertical-align:bottom;">
						<td>
							<a href="./index.html">
								<img alt="Miavita" src="./images/logo_miavita.gif">
							</a>
							<div id="title">
								Monitoring Platform
							</div>
						</td>
						<td style="text-align:right;>
							<a href="http://www.inesc-id.pt/">
								<img alt="INESC-ID" src="./images/logo_inescid_2.gif">
							</a>
							<div id="topmenu">
								<a href="javascript:void(0)" onclick="show('#welcome')">Home</a>
								<a href="javascript:void(0)" onclick="readData()">Refresh</a>
								<a href="javascript:void(0)" onclick="show('#help')">Help</a>
								<a href="javascript:void(0)" onclick="show('#about')">About</a>
							</div>
						</td>
					</tr>
				</table>
			</div>
		</header>
		<div id="content">
			<div class="easyui-accordion" border="false" style="width:200px;float:left;">
				<div title="Configuration" data-options="border:'false'">
					<ul class="pitem">
						<li><a href="javascript:void(0)" onclick="show('#config_sysmology')">Sysmology</a></li>
						<li><a href="javascript:void(0)" onclick="show('#config_network')">Network</a></li>
					</ul>
				</div>
		   		<div title="View" data-options="border:'false'">
					<ul class="pitem">
						<li><a href="javascript:void(0)" onclick="show('#sysmology')">Sysmology</a></li>
						<li><a href="javascript:void(0)" onclick="show('#network')">Network</a></li>
						<li><a href="javascript:void(0)" onclick="show('#info')">Information</a></li>
					</ul>
				</div>
		   		<div title="Maps" data-options="border:'false'">
					<ul class="pitem">
						<li><a href="javascript:void(0)" onclick="googleInitialize(); show('#map')">Google Maps</a></li>
						<li><a href="javascript:void(0)" onclick="show('#staticMap')">Static Map</a></li>
					</ul>
				</div>
				<div title="Other" data-options="border:'false'">
					<ul class="pitem">
						<li><a href="javascript:void(0)" onclick="show('#help')">Help</a></li>
						<li><a href="javascript:void(0)" onclick="show('#about')">About</a></li>
					</ul>
				</div>
			</div>
			<div class="frame">
				<div id="welcome" style="display:none; opacity:0.5;">
					<div class="title">
						Welcome
					</div>
					<div style="margin-left:2cm;">
						<br>
						Welcome!
						<br>
						This is the Monitoring Platform for the MIA-VITA Project.
						Feel free to browse around!
						<br><br>
						Example Nodes:
						<br> - Node 1 - small oscillation (first real test)
						<br> - Node 2 - dados_telemovel.json
						<br> - Node 3 - dados_jumper.json
						<br>
					</div>
					<div id="uptimeGraph" style="min-width: 400px; height: 400px; margin: 0 auto"></div>
				</div>
				<div id="config_sysmology">
					<span class="easyui-layout">
						<div class="title" data-options="region:'north', border:'false'" >
							Configuration &rarr; Sysmology
						</div>
						<div id="configSysmologyPortal" data-options="region:'center', border:'false'" style="height:500px">
							<div style="width:20%;">
								<div title="Select Node(s)" data-options="collapsible:'true'" style="text-align:left;height:340px;padding:5px;">
									<form name="sysmologyNodes">
										<input type="checkbox" name="sysmologyNode1" id="sysmologyNode1" /> <label for="sysmologyNode1">Node 1</label><br>
										<input type="checkbox" name="sysmologyNode2" id="sysmologyNode2" /> <label for="sysmologyNode2">Node 2</label><br>
										<input type="checkbox" name="sysmologyNode3" id="sysmologyNode3" /> <label for="sysmologyNode3">Node 3</label><br>
										<input type="checkbox" name="sysmologyNode4" id="sysmologyNode4" /> <label for="sysmologyNode4">Node 4</label><br>
										<input type="checkbox" name="sysmologyNode5" id="sysmologyNode5" /> <label for="sysmologyNode5">Node 5</label><br>
										<input type="checkbox" name="sysmologyNode6" id="sysmologyNode6" /> <label for="sysmologyNode6">Node 6</label><br>
										<input type="checkbox" name="sysmologyNode7" id="sysmologyNode7" /> <label for="sysmologyNode7">Node 7</label><br>
										<input type="checkbox" name="sysmologyNode8" id="sysmologyNode8" /> <label for="sysmologyNode8">Node 8</label><br>
										<input type="checkbox" name="sysmologyNode9" id="sysmologyNode9" /> <label for="sysmologyNode9">Node 9</label><br>
										<input type="checkbox" name="sysmologyNode10" id="sysmologyNode10" /> <label for="sysmologyNode10">Node 10</label><br>
										<input type="checkbox" name="sysmologyNode11" id="sysmologyNode11" /> <label for="sysmologyNode11">Node 11</label><br>
										<input type="checkbox" name="sysmologyNode12" id="sysmologyNode12" /> <label for="sysmologyNode12">Node 12</label><br>
										<input type="checkbox" name="sysmologyNode13" id="sysmologyNode13" /> <label for="sysmologyNode13">Node 13</label><br>
									</form>
									<br/>
									<a class="easyui-linkbutton" href="javascript:void(0)" onclick="unSelectAll('sysmologyNode')">(Un)Select All</a>
								</div>
								<div title="Save/Load" data-options="collapsible:'true', iconCls:'icon-save'" style="height:100px;padding:10px;">
									<a class="easyui-linkbutton" href="javascript:void(0)" onclick="load()">Load</a><br>
									<a class="easyui-linkbutton" href="javascript:void(0)" onclick="save()">Save</a>
								</div>								
							</div>
							<div style="width:40%;">
								<div title="Choose Units" data-options="collapsible:'true'" style="height:200px;">
									<form name="units">
										<input type="radio" name="MHz" value="MHz"/>MHz<br>
										<input type="radio" name="KHz" value="KHz"/>KHz<br>
										<input type="radio" name="Hz" value="Hz"/>Hz<br>
									</form>
								</div>
								<div title="Other" data-options="collapsible:'true'" style="height:200px;">
									<form name="sysmologyOtherForm">
										<input type="checkbox" name="sysmologyPresentTooltips" id="sysmologyPresentTooltips" /> <label for="sysmologyPresentTooltips">Present Tooltips</label><br>
										<input type="checkbox" name="sysmologyShowEffects" id="sysmologyShowEffects" /> <label for="sysmologyShowEffects">Show Effects and Animations</label><br>
									</form>
								</div>
							</div>
							<div style="width:40%;">
								<div title="Time Range" data-options="collapsible:'true', iconCls:'icon-calendar'" style="height:200px;padding:5px;">
									<div style="width:170px;">
										<label for="sysfrom">From</label>
										<input type="text" id="sysfrom" name="sysfrom" require/>
										<br>
										<label for="systo">to</label>
										<input type="text" id="systo" name="systo" require/>
									</div>
									<form name="realtime">
										<input type="checkbox" name="RT" id="sysmoRT"/> <label for="sysmoRT">Real-Time Sampling</label><br>
									</form>
								</div>
							</div>
						</div>
					</span>
				</div>
				<div id="config_network">
					<span class="easyui-layout">
						<div class="title" data-options="region:'north', border:'false'" >
							Configuration &rarr; Network
						</div>
						<div id="configNetworkPortal" data-options="region:'center', border:'false'" style="height:500px">
							<div style="width:20%;">
								<div title="Save/Load" data-options="collapsible:'true', iconCls:'icon-save'" style="height:100px;padding:10px;">
									<a class="easyui-linkbutton" href="javascript:void(0)" onclick="load()">Load</a><br>
									<a class="easyui-linkbutton" href="javascript:void(0)" onclick="save()">Save</a>
								</div>
								<div title="Select Node(s)" data-options="collapsible:'true'" style="text-align:left;height:340px;padding:5px;">
									<form name="networkNodes">
										<input type="checkbox" name="networkNode1" id="networkNode1" /> <label for="networkNode1">Node 1</label><br>
										<input type="checkbox" name="networkNode2" id="networkNode2" /> <label for="networkNode2">Node 2</label><br>
										<input type="checkbox" name="networkNode3" id="networkNode3" /> <label for="networkNode3">Node 3</label><br>
										<input type="checkbox" name="networkNode4" id="networkNode4" /> <label for="networkNode4">Node 4</label><br>
										<input type="checkbox" name="networkNode5" id="networkNode5" /> <label for="networkNode5">Node 5</label><br>
										<input type="checkbox" name="networkNode6" id="networkNode6" /> <label for="networkNode6">Node 6</label><br>
										<input type="checkbox" name="networkNode7" id="networkNode7" /> <label for="networkNode7">Node 7</label><br>
										<input type="checkbox" name="networkNode8" id="networkNode8" /> <label for="networkNode8">Node 8</label><br>
										<input type="checkbox" name="networkNode9" id="networkNode9" /> <label for="networkNode9">Node 9</label><br>
										<input type="checkbox" name="networkNode10" id="networkNode10" /> <label for="networkNode10">Node 10</label><br>
										<input type="checkbox" name="networkNode11" id="networkNode11" /> <label for="networkNode11">Node 11</label><br>
										<input type="checkbox" name="networkNode12" id="networkNode12" /> <label for="networkNode12">Node 12</label><br>
										<input type="checkbox" name="networkNode13" id="networkNode13" /> <label for="networkNode13">Node 13</label><br>
									</form>
									<a class="easyui-linkbutton" href="javascript:void(0)" onclick="unSelectAll('networkNode')">(Un)Select All</a>
								</div>
							</div>
							<div style="width:40%;">
								<div title="Choose Units" data-options="collapsible:'true'" style="height:200px;">
									<form name="units">
										<input type="radio" name="MHz" value="MHz"/>MHz<br>
										<input type="radio" name="KHz" value="KHz"/>KHz<br>
										<input type="radio" name="Hz" value="Hz"/>Hz<br>
									</form>
								</div>
								<div title="Other" data-options="collapsible:'true'" style="height:200px;">
									<form name="networkOtherForm">
										<input type="checkbox" name="networkPresentTooltips" id="networkPresentTooltips" /> <label for="networkPresentTooltips">Present Tooltips</label><br>
										<input type="checkbox" name="networkShowEffects" id="networkShowEffects" /> <label for="networkShowEffects">Show Effects and Animations</label><br>
									</form>
								</div>
							</div>
							<div style="width:40%;">
								<div title="Time Range" data-options="collapsible:'true', iconCls:'icon-calendar'" style="height:200px;padding:5px;">
									<div style="width:170px;">
										<label for="netfrom">From</label>
										<input type="text" id="netfrom" name="netfrom" require/>
										<br>
										<label for="netto">to</label>
										<input type="text" id="netto" name="netto" require/>
									</div>
									<form name="realtime">
										<input type="checkbox" name="RT" id="networkRT"/> <label for="networkRT">Real-Time Sampling</label><br>
									</form>
								</div>
							</div>
						</div>
					</span>
				</div>
				<div id="sysmology" >
					<span class="easyui-layout">
						<div class="title" data-options="region:'north', border:'false'" >
							View &rarr; Sysmology
						</div>
						<div id="sysmologyViewPortal" data-options="region:'center', border:'false'" style="height:500px">
							<div style="width:100%;"></div>
						</div>
					</span>
				</div>
				<div id="network" >
					<span class="easyui-layout">
						<div class="title" data-options="region:'north', border:'false'" >
							View &rarr; Network
						</div>
						<div id="networkViewPortal" data-options="region:'center', border:'false'" style="height:500px">	
							<div style="width:100%;"></div>
						</div>
					</span>
				</div>
				<div id="info" >
					<span class="easyui-layout">
						<div  class="title" data-options="region:'north', border:'false'">
							Information
						</div>
						<div id="viewInfoPortal" data-options="region:'center', border:'false'" style="height:500px">
							<div style="width:20%;">
								<div title="GPS Coordinates" data-options="collapsible:'true'" style="height:100px;padding:10px;">
									GPS Coordinates
								</div>
								<div title="Autonomy" data-options="collapsible:'true'" style="height:200px;padding:5px;">
									Power Autonomy
								</div>
								<div title="Temperature" data-options="collapsible:'true'" style="height:100px;padding:5px;">
									Temperature
								</div>
							</div>
							<div style="width:40%;">
								<div title="Node Status" data-options="collapsible:'true'" style="height:200px;padding:5px;">
									specs
								</div>
								<div title="Performance" data-options="collapsible:'true'" style="height:200px;padding:5px;">
									Performance metrics
								</div>
							</div>
							<div style="width:40%;">
								<div title="Errors" data-options="collapsible:'true'" style="height:200px;padding:5px;">
									Errors
								</div>
								<div title="Sampling" data-options="collapsible:'true'" style="height:200px;text-align:center;">
									Sampling
								</div>
							</div>
						</div>
					</span>
				</div>
				<div id="map" style="display:none;">
					<div id="googleMaps"></div>
				</div>
				<div id="staticMap" style="display:none;">
					add pic :)
				</div>
				<div id="help" style="display:none;">
					<div class="title">
						Other &rarr; Help
					</div>
					<div style="margin-left:2cm;">
						<br>
						1 - Click on the "Configuration" tab at left. Then you can find two
						options. Each one of them will bring you a specific configuration window to foreground.
						<br>
						2 - Setup the proper options to each graph.
						<br>
						3 - Click on the "View" tab at left and choose the desired option. You can now find graphs of every Node you selected
						comprising the information you chosed earlier.
						<br>
						4 - You can find some extra functionality clicking with the right button on the top of the graph.
						<br>
					</div>
				</div>
				<div id="about" style="display:none;">
					<div class="title">
						Other &rarr; About
					</div>
					<div>
						<img alt="Miavita" src="./images/logo_miavita.gif">
						<img alt="INESC-ID" src="./images/logo_inescid_2.gif">
					
						CNM - TagusPark
					
						<img alt="IST" src="./images/Logo_IST_color.jpg" style="height:75px; width:152px;">
					</div>
				</div>
			</div>
			<div style="clear:both"></div>
			<br/>
		</div>
		<footer>
			<br/><a class="easyui-linkbutton" href="javascript:void(0)" onclick="draw();">TEST BUTTON</a>
			<br/><a class="easyui-linkbutton" href="javascript:void(0)" onclick="stopSpinner(); ">TEST BUTTON - spinner</a>
			<br/>Duarte Barbosa - duarte.barbosa@ist.utl.pt
		</footer>
	</body>
</html>
